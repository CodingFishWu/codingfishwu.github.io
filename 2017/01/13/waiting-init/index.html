<!DOCTYPE html><html lang="Chinese"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 你又等了好久外卖吗 · Fish's Blog</title><meta name="description" content="你又等了好久外卖吗 - Fish Wu"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/new.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://blog.codingfish.cc/atom.xml" title="Fish's Blog"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/new.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/CodingFishWu" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">你又等了好久外卖吗</h1><div class="post-info">Jan 13, 2017</div><div class="post-content"><h3 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h3><p>这种情况发生了无数次：我接到外卖小哥的电话说外卖已经到楼下了，然后我就下楼了，然后我等了好久好久外卖小哥才到。但是看在他一路风尘仆仆的样子我又不好意思说他，只能每次都自认倒霉。</p>
<p>直到有一次我刚洗完澡穿着短裤短袖在寒风中等了好久，终于受不了了：我不知道有多少人和我一样属于那种“不好意思麻烦别人”、“看到别人等自己就会觉得特别不好意思”的性格，但是这不是一直让我等别人的理由呀！我知道外卖小哥想节省时间所以提前打电话，但是这样严重浪费了我们的时间。</p>
<p>所以最终我决定做一个项目让大家一起记录下每个外卖小哥让我们等待的时间，然后每次接到电话的时候可以查询一下它的信用情况，好让我们心里知道到底应该什么时候下去。</p>
<h3 id="计划"><a href="#计划" class="headerlink" title="计划"></a>计划</h3><p>想了很久最终还是决定以公众号的形式来记录。原因有很多：首先是因为方便，其次是不会被攻击，当然最重要的是可以省去很多设计的环节，只需要纯文本就行。</p>
<p>然后为了保证提交信息的人的身份可靠性，我还特地去申请了JAccount的接入。这么做的前提是假设“交大学生都是可信的”，我觉得这一点对于大部分人来说都是毋庸置疑的（也没什么好处来造假呀）。</p>
<p>当然很多人会担心信息泄露什么的，毕竟这只是一个私人的项目。这点我觉得大家不放心的话可以去问一下周围的技术党，后台只会拿到和记录微信的open_id和学生账号的id（目前还不知道是什么id）。</p>
<h3 id="现状"><a href="#现状" class="headerlink" title="现状"></a>现状</h3><p>目前已经完成了最基本的代码，放在了<a href="https://github.com/CodingFishWu/Waiting" target="_blank" rel="external">github</a>上。</p>
<p>微信公众号二维码是（找了张Saber的图算不算侵权？）<img src="https://waiting.codingfish.cc/assets/qrcode_small.jpg" alt="qrcode"></p>
<p>使用方法在公众号下输入”help”即可，这里说一下后台的正则匹配：</p>
<ul>
<li>查询： ^\d{11}$</li>
<li>提交信息： ^\d{11}\s\d{1,2}$</li>
<li>帮助： ^help$</li>
</ul>
<h3 id="计划-1"><a href="#计划-1" class="headerlink" title="计划"></a>计划</h3><p>本来想加入一些限制，例如两小时内只能提交三次之类的。但是想了想这样太不灵活了。毕竟设计的初衷是认为大家都是可信的，所以也没有必要过于纠结。</p>
<p>但是后台的筛选（例如手贱输错了、重复之类的）是必须的，具体的算法还没有想好，目前仅仅只是全部取平均。</p>
<h3 id="更多"><a href="#更多" class="headerlink" title="更多"></a>更多</h3><p>可以直接发邮件给我：Fish Wu(codingfishwu@gmail.com)<br>有意加入维护的话也可以找我。目前服务器用的是阿里云的学生机。<br>JAccount接入的申请还在审核中。</p>
</div></article></div></main><footer><div class="paginator"></div><div class="copyright"><p>© 2015 - 2017 <a href="http://blog.codingfish.cc">Fish Wu</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><!--script(async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous")--></body></html>